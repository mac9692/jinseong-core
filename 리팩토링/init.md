# REFACTORING - 마틴 파울러
## 리팩터링이란
```
리팩터링은 겉으로 드러나는 코드의 기능(겉보기 동작)은 바꾸지 않으면서 내부 구조를 개선하는 방식으로 소프트웨어 시스템을 수정하는 과정이다.
버그가 생길 가능성을 최소로 줄이면서 코드를 정리하는 정제된 방법이다.
요컨대, 리팩터링한다는 것은 코드를 작성하고 난 뒤에 설계를 개선하는 일이다.
코딩 후 설계 개선이라니 정말 이상한 말이다.
우리가 예전부터 따르던 소프트웨어 개발 방법은 설계부터 하고 코드를 작성하는 식이다.
좋은 설계가 우선되어야 하고 코딩은 그 다음이다.
하지만 시간이 흐르면서 코드는 수정되고 시스템의 무결성, 즉 설계에 맞춘 구조는 점차 뒤죽박죽이 되어간다.
공학에 가깝던 코딩 작업은 서서히 해킹에 가까워진다.
이 과정을 반대로 한 것이 리팩터링이다. 리팩터링을 하면 잘못된 설계나 심지어 엉망인 설계를 가져다가 체계적으로 설계된 코드로 탈바꿈할 수 있다.
리팩터링의 각 단계는 간단하다 못해 지나칠 정도로 단순하다. 하지만 이런 사소한 수정도 누적되면 설계가 놀랍도록 개선된다.
소프트웨어가 부식된다는 개념의 정반대가 바로 리팩터링이다.
리팩터링을 하면 일의 균형이 바뀐다. 처음부터 완벽한 설계를 갖추기보다는 개발을 진행하면서 지속적으로 설계한다.
시스템을 구축하는 과정에서 더 나은 설계가 무엇인지 배우게 된다.
그 결과, 개발의 시작부터 끝날 떄까지 프로그램은 줄곧 우수한 설계를 유지한다.
```
## 리팩터링 진행 단계
```
1. 테스트 코드 작성
```

## 테스트 코드 작성
```
그냥 리팩터링하면 되지 않을까? 하지만 리팩터링에도 위험이 따른다.
리팩터링이란 코드를 수정하는 것이고, 그 과정에서 미묘한 버그가 생길 수 있다.
잘못 수행하면 오히려 며칠 혹은 몇 주간의 시간과 노력이 수포로 돌아갈 수 있다.
제대로 된 연습없이 즉흥적으로 실시하는 리팩터링은 더욱 위험하다.
코드를 분석하다가 새롭게 수정할 부분을 발견하면 즉흥적으로 더 깊이 파기 시작하는 사람이 많은데,
그럴수록 수정할 부분이 더 많아져 마침내 헤어날 수 없는 구렁텅이에 빠지게 된다.
자기 무덤을 파는 실수를 하지 않으려면 리팩터링을 반드시 계획적이며 체계적으로 해야 한다.
```
